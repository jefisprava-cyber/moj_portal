<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            {% for p in produkty %}
            <div class="group bg-white rounded-3xl p-4 hover:shadow-2xl hover:shadow-blue-100 transition duration-300 border border-transparent hover:border-blue-50 relative flex flex-col">
                
                <div class="relative h-64 bg-gray-50 rounded-2xl overflow-hidden mb-4">
                    <img src="{{ p.image_url }}" alt="{{ p.name }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                    
                    <div class="absolute top-3 left-3 bg-white/90 backdrop-blur text-xs font-bold px-3 py-1.5 rounded-lg shadow-sm border border-gray-100 uppercase tracking-wide">
                        od {{ p.shop_display }}
                    </div>
                </div>

                <div class="px-2 flex-grow">
                    <h3 class="font-bold text-gray-900 text-lg leading-tight mb-2 group-hover:text-blue-600 transition">
                        <a href="{% url 'product_detail' p.id %}">
                            {{ p.name }}
                        </a>
                    </h3>
                    <div class="flex items-center text-xs text-gray-400 font-medium mb-4">
                        <i class="fa fa-truck mr-1.5"></i> 
                        od {{ p.delivery_display }} dní
                    </div>
                </div>

                <div class="mt-auto px-2 flex items-center justify-between pt-4 border-t border-gray-50">
                    <div>
                        <span class="block text-[10px] text-gray-400 font-bold uppercase">Najlepšia cena</span>
                        <span class="text-xl font-black text-gray-900">{{ p.price_display }} €</span>
                    </div>
                    {% if p.best_offer_id %}
                    <a href="{% url 'add_to_cart' p.best_offer_id %}" class="bg-gray-900 hover:bg-blue-600 text-white w-10 h-10 rounded-full flex items-center justify-center transition shadow-lg transform active:scale-90">
                        <i class="fa fa-plus"></i>
                    </a>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-20">
                <p>Žiadne produkty.</p>
            </div>
            {% endfor %}
        </div>