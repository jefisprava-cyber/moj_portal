<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{% block title %}Môj Portál - Smart Porovnávač cien{% endblock %}</title>
    <meta name="description" content="{% block meta_description %}Najlepšie ceny, porovnanie e-shopov a inteligentný nákupný plánovač.{% endblock %}">
    
    <meta property="og:title" content="{% block og_title %}Môj Portál{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Porovnajte ceny a ušetrite.{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{% endblock %}">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    {% block schema %}{% endblock %}
</head>
<body class="bg-gray-50 text-gray-900 flex flex-col min-h-screen font-sans">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6 h-20 flex items-center justify-between">
            <a href="{% url 'home' %}" class="flex items-center gap-2 group">
                <div class="bg-blue-600 text-white w-10 h-10 flex items-center justify-center rounded-xl font-black text-xl group-hover:scale-110 transition">M</div>
                <span class="font-bold text-xl tracking-tight text-gray-800">Môj<span class="text-blue-600">Portál</span></span>
            </a>

            <nav class="hidden md:flex items-center gap-8 font-medium text-sm text-gray-600">
                <a href="{% url 'home' %}" class="hover:text-blue-600 transition">Domov</a>
                <a href="{% url 'planner_view' %}" class="hover:text-blue-600 transition">Môj Plánovač</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'profile' %}" class="hover:text-blue-600 transition">Môj Profil</a>
                {% endif %}
            </nav>

            <div class="flex items-center gap-4">
                <a href="{% url 'planner_view' %}" class="relative w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-blue-50 hover:text-blue-600 transition">
                    <i class="fa fa-shopping-bag"></i>
                    {% if cart_count > 0 %}
                    <span class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-white">{{ cart_count }}</span>
                    {% endif %}
                </a>

                {% if user.is_authenticated %}
                    <form action="{% url 'logout' %}" method="post">
                        {% csrf_token %}
                        <button type="submit" class="text-sm font-bold text-gray-500 hover:text-red-500 transition">Odhlásiť</button>
                    </form>
                {% else %}
                    <a href="{% url 'login' %}" class="bg-gray-900 text-white px-5 py-2.5 rounded-full text-sm font-bold hover:bg-gray-800 transition shadow-lg shadow-gray-200">
                        Prihlásiť
                    </a>
                {% endif %}
            </div>
        </div>
    </header>

    <main class="flex-grow">
        {% if messages %}
            <div class="container mx-auto px-6 mt-6">
                {% for message in messages %}
                <div class="p-4 mb-4 rounded-xl text-sm font-bold
                    {% if message.tags == 'success' %}bg-green-100 text-green-700
                    {% elif message.tags == 'error' %}bg-red-100 text-red-700
                    {% else %}bg-blue-100 text-blue-700{% endif %}">
                    {{ message }}
                </div>
                {% endfor %}
            </div>
        {% endif %}

        {% block content %}{% endblock %}
    </main>

    <footer class="bg-slate-900 text-slate-400 py-16 mt-20 border-t border-slate-800">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                <div class="col-span-1 md:col-span-2">
                    <h3 class="text-white font-bold text-xl mb-6">Môj<span class="text-blue-500">Portál</span></h3>
                    <p class="text-sm leading-relaxed max-w-sm mb-6">
                        Váš inteligentný nákupný radca. Sledujeme ceny v stovkách e-shopov, strážime zľavy a pomáhame vám nakupovať chytro.
                    </p>
                    <div class="flex gap-4">
                        <a href="#" class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-blue-600 hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-pink-600 hover:text-white transition"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-white font-bold mb-6">Užitočné odkazy</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="{% url 'home' %}" class="hover:text-blue-400 transition">Domov</a></li>
                        <li><a href="{% url 'planner_view' %}" class="hover:text-blue-400 transition">Nákupný plánovač</a></li>
                        <li><a href="{% url 'privacy_policy' %}" class="hover:text-blue-400 transition">Ochrana súkromia</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-white font-bold mb-6">Kontakt</h4>
                    <ul class="space-y-3 text-sm">
                        <li><i class="fa fa-envelope mr-2"></i> info@moj-portal.sk</li>
                        <li><i class="fa fa-map-marker-alt mr-2"></i> Bratislava, Slovensko</li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-slate-800 pt-8 mt-8 text-xs text-slate-500 text-center leading-relaxed">
                <p class="mb-2">
                    <strong>Affiliate Disclaimer:</strong> Sme účastníkom rôznych affiliate programov (napr. Dognet). 
                    Niektoré odkazy na tejto stránke môžu byť affiliate odkazy. 
                    Ak cez ne nakúpite, môžeme získať malú províziu, ktorá pomáha prevádzkovať tento portál. 
                    Cena pre vás ostáva rovnaká.
                </p>
                <p>&copy; 2026 Môj Portál. Všetky práva vyhradené.</p>
            </div>
        </div>
    </footer>

</body>
</html>